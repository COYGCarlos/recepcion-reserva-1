<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: U1 Recepción y Reserva</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons CDN (for aesthetics) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
        .icon-small {
            width: 1.25rem;
            height: 1.25rem;
            display: inline-block;
            stroke-width: 2.5;
        }
        /* Custom styles for accessibility and visual feedback */
        input[type="radio"]:checked + label {
            border-color: #3b82f6;
            background-color: #eff6ff;
            color: #1e40af;
        }
        .correct-answer {
            background-color: #d1fae5; /* Green */
            border-color: #059669;
        }
        .wrong-answer {
            background-color: #fee2e2; /* Red */
            border-color: #ef4444;
        }
        /* Style for the correction box */
        .correction-box-incorrect {
            background-color: #fef2f2; /* Very light red */
            border-left: 4px solid #f87171; /* Stronger red line on the left */
        }
        .correction-box-unanswered {
            background-color: #f3f4f6; /* Light gray */
            border-left: 4px solid #9ca3af; /* Medium gray line on the left */
        }
        .correction-box-correct {
             background-color: #d1fae5; /* Green */
             border-left: 4px solid #059669;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div id="app" class="max-w-4xl mx-auto bg-white shadow-2xl rounded-xl overflow-hidden">

        <!-- Header -->
        <header class="bg-blue-600 text-white p-6 md:p-8 shadow-lg">
            <h1 class="text-3xl font-extrabold mb-1">Test U1: Recepción y Reserva</h1>
            <p class="text-blue-200">75 preguntas generadas | 10 seleccionadas aleatoriamente</p>
        </header>

        <!-- Main Content Area -->
        <main class="p-6 md:p-8">

            <!-- Mode Selection Screen (Initial View) -->
            <div id="mode-selection" class="text-center transition-opacity duration-500">
                <h2 class="text-2xl font-semibold mb-6 text-gray-800">Selecciona un Modo</h2>

                <div class="grid md:grid-cols-2 gap-6">

                    <!-- Modo Estudiar -->
                    <div class="p-6 border-4 border-yellow-400 rounded-lg shadow-md hover:shadow-xl transition duration-300">
                        <h3 class="text-xl font-bold text-yellow-700 mb-3 flex items-center justify-center">
                            <span data-lucide="book-open" class="mr-2"></span> Modo Estudiar
                        </h3>
                        <p class="text-gray-600 mb-4">Corrección y explicación **inmediata**. Podrás ver la nota final al responder las 20.</p>
                        <button onclick="startQuiz('estudiar')" class="w-full py-3 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg shadow-md transition duration-200">
                            Comenzar
                        </button>
                    </div>

                    <!-- Modo Practicar -->
                    <div class="p-6 border-4 border-green-500 rounded-lg shadow-md hover:shadow-xl transition duration-300">
                        <h3 class="text-xl font-bold text-green-700 mb-3 flex items-center justify-center">
                            <span data-lucide="check-circle" class="mr-2"></span> Modo Practicar
                        </h3>
                        <p class="text-gray-600 mb-4">La corrección y la nota se mostrarán **al final**, tras presionar el botón 'Enviar'.</p>
                        <button onclick="startQuiz('practicar')" class="w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition duration-200">
                            Comenzar
                        </button>
                    </div>
                </div>
                <p class="mt-8 text-sm text-gray-500">Tendrás 10 preguntas seleccionadas al azar. Penalización: 1 fallo resta 1/3 de un acierto.</p>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-container" class="hidden transition-opacity duration-500">
                <div class="flex justify-between items-center mb-4 pb-4 border-b border-gray-200">
                     <button onclick="showModeSelection()" class="text-sm text-gray-600 hover:text-gray-800 flex items-center transition duration-200">
                        <span data-lucide="arrow-left" class="icon-small mr-1"></span> Volver al Inicio
                    </button>
                    <p class="text-sm font-medium text-gray-500">Respondidas: <span id="answered-counter" class="font-bold text-blue-600">0</span>/10</p>
                </div>

                <div id="question-list">
                    <!-- Questions will be inserted here -->
                </div>

                <div class="mt-8 pt-6 border-t border-gray-200" id="quiz-actions">
                    <!-- The submit button is used in both modes to calculate final score -->
                    <button id="submit-button" onclick="submitQuiz()" class="w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transition duration-200 focus:outline-none focus:ring-4 focus:ring-blue-300" disabled>
                        Ver Nota Final
                    </button>
                </div>
            </div>

            <!-- Results Screen -->
            <div id="results-container" class="hidden text-center transition-opacity duration-500">
                <h2 class="text-3xl font-extrabold mb-4 text-gray-800">Resultados del Test</h2>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-6 p-6 rounded-xl bg-blue-50 shadow-inner mb-6">
                    <div class="text-left">
                        <p class="text-xl font-semibold text-gray-700">Modo: <span id="result-mode" class="font-bold text-blue-600"></span></p>
                        <p class="text-sm text-gray-500">Puntúa: Correctas (+0.5 pts) - Falladas (-0.167 pts)</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <p class="text-6xl font-extrabold text-blue-800" id="final-score">--</p>
                        <p class="text-lg font-semibold text-gray-600">Nota sobre 10</p>
                    </div>
                </div>

                <div class="grid grid-cols-3 gap-4 mb-8 text-white font-bold">
                    <div class="p-3 rounded-lg bg-green-500 shadow-md">Acertadas: <span id="count-correct">0</span></div>
                    <div class="p-3 rounded-lg bg-red-500 shadow-md">Falladas: <span id="count-incorrect">0</span></div>
                    <div class="p-3 rounded-lg bg-gray-500 shadow-md">Sin Responder: <span id="count-unanswered">0</span></div>
                </div>

                <button onclick="showModeSelection()" class="py-3 px-8 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transition duration-200">
                    <span data-lucide="undo-2" class="icon-small mr-1"></span> Volver a Empezar
                </button>

                <h3 class="text-2xl font-semibold mt-10 mb-4 text-gray-800">Revisión de Preguntas Falladas</h3>
                <div id="failed-questions-review" class="text-left space-y-4">
                    <!-- Failed questions review will be inserted here -->
                </div>
            </div>

        </main>

    </div>

    <script>
        // --- 1. DATA STRUCTURE: 75 QUESTIONS (Q, Options, Answer Index, Explanation) ---
        const allQuestions = [
            // --- A. Recepción y Organización ---
            { q: "¿Cuál es el punto tradicional que busca una persona al acceder a un establecimiento hotelero para ser atendida e iniciar su registro?", options: ["El restaurante", "El mostrador", "La zona de parking", "El área de contabilidad"], a: 1, e: "El mostrador o Front Desk es el punto central y tradicional para ser atendido y realizar el registro (check-in) en el hotel." },
            { q: "¿Qué nombre recibe el departamento de recepción que se encarga de la gestión y seguimiento del día a día del establecimiento?", options: ["Departamento de Marketing", "Departamento de Alojamiento", "Departamento de Finanzas", "Departamento de Compras"], a: 1, e: "El Departamento de Alojamiento, también conocido como División de Habitaciones, incluye Recepción y Pisos y es el que gestiona el día a día de la estancia del huésped." },
            { q: "¿Cuál es una de las funciones principales de la recepción durante la estancia del huésped?", options: ["Realizar el mantenimiento de la piscina", "Gestionar la contabilidad de la empresa", "Atender a las peticiones e incidencias del huésped", "Elaborar los menús del restaurante"], a: 2, e: "La recepción es el punto de contacto principal para la atención, peticiones e incidencias del cliente durante toda su estancia." },
            { q: "¿Qué documento suele generar Recepción al inicio de la estancia de un huésped?", options: ["Balance de cuentas mensual", "Hoja de registro", "Nómina del personal", "Inventario de almacén"], a: 1, e: "La Hoja de Registro o Ficha de Cliente es obligatoria y contiene los datos del huésped, siendo generada por Recepción al realizar el check-in." },
            { q: "¿Cuál de estos subdepartamentos suele formar parte del área de recepción y se encarga de la gestión de maletas y de la información turística?", options: ["Servicio de Telefonista", "Conserjería", "Back Office", "Control de calidad"], a: 1, e: "Conserjería (o Bell-boys/Portería) gestiona el equipaje, mensajes, información turística y traslados de los huéspedes." },
            { q: "El subdepartamento de Teléfonos tiene como función principal:", options: ["Reparar averías de las líneas", "Realizar llamadas de larga distancia personales", "Gestionar las comunicaciones internas y externas (llamadas, fax, mensajes)", "Controlar el acceso a internet del hotel"], a: 2, e: "El telefonista o la centralita gestionan todas las comunicaciones entrantes, salientes e internas del establecimiento." },
            { q: "¿Qué área de recepción se enfoca en las tareas administrativas que no requieren contacto directo con el cliente, como la gestión de archivos y el control de reservas futuras?", options: ["Front Office", "Back Office", "Mostrador", "Conserjería"], a: 1, e: "El Back Office de Recepción se encarga de las tareas administrativas y de control, liberando al Front Office de las tareas de atención directa." },
            { q: "En la estructura organizativa de un hotel, el Jefe/a de Recepción suele depender directamente de:", options: ["El Chef de Cocina", "El Director/a de Alojamiento", "El Jefe/a de Mantenimiento", "El Director/a Financiero"], a: 1, e: "El Departamento de Recepción forma parte del Departamento de Alojamiento, cuyo responsable es el superior directo del Jefe/a de Recepción." },
            { q: "¿Cuál es una función principal del Recepcionista Nocturno (Auditor Nocturno)?", options: ["Elaborar los platos para el desayuno", "Realizar el cierre y balance de la jornada, preparando el hotel para el día siguiente", "Gestionar las compras de alimentos", "Organizar eventos y congresos"], a: 1, e: "El Auditor Nocturno es responsable de realizar la auditoría o cierre contable del día y de tareas administrativas durante la noche." },
            { q: "¿Qué relación interdepartamental es crucial entre Recepción y el Departamento de Pisos (Gobernanta)?", options: ["Inventario de bebidas del bar", "Estado de las habitaciones", "Gestión de la web corporativa", "Contratación de nuevos empleados"], a: 1, e: "La coordinación del estado de las habitaciones es vital para la venta y asignación de las mismas a los huéspedes." },
            // --- B. Sistemas Tecnológicos (PMS, GDS, CRS, CM) ---
            { q: "¿Qué sistema es una herramienta informática que se encarga de la gestión y seguimiento del día a día del establecimiento, registrando reservas, check-in, check-out, y facturación?", options: ["GDS", "PMS (Property Management System)", "TPV (Terminal Punto de Venta)", "ERP (Enterprise Resource Planning)"], a: 1, e: "El PMS es el software central de gestión operativa del hotel. Es el 'corazón' de la recepción." },
            { q: "¿Cuál es una característica clave del PMS mencionada en el texto, relacionada con las reservas y las tarifas?", options: ["Solo registra la ocupación anual", "Permite al establecimiento adaptar tarifas al registrar reservas en tiempo real", "Solo funciona para check-out", "Maneja exclusivamente la nómina"], a: 1, e: "El registro en tiempo real de las reservas permite al hotel aplicar estrategias dinámicas de precios (revenue management)." },
            { q: "¿Qué sistema permite optimizar la búsqueda de información, ofreciendo en tiempo real una gama de productos y proporcionando conectividad a los establecimientos a través de agencias?", options: ["PMS", "ERP", "GDS", "TPV"], a: 2, e: "El GDS es una red de distribución que conecta a proveedores de servicios turísticos con agencias de viajes a nivel mundial." },
            { q: "¿Qué ejemplos de GDS se mencionan en el texto?", options: ["Microsoft Excel y Word", "Amadeus y Worldspan", "Chrome y Firefox", "Google Maps y Waze"], a: 1, e: "Amadeus y Worldspan son ejemplos clásicos de Global Distribution Systems." },
            { q: "¿Qué significa la sigla CSR o SCR en el contexto de gestión de reservas?", options: ["Corporate Social Responsibility", "Central Reservation System", "Customer Service Representative", "Cleaning and Sanitizing Registry"], a: 1, e: "CSR/SCR se refiere al Sistema Central de Reservas, especializado en un sector (como el hotelero o alquiler de vehículos)." },
            { q: "¿Cuál es la función principal de un CHANNEL MANAGER?", options: ["Reparar equipos informáticos", "Conectar el PMS, GDS, CRS, entre otros, entre canales de distribución", "Gestionar la limpieza de las habitaciones", "Controlar la caja fuerte del hotel"], a: 1, e: "El Channel Manager centraliza y sincroniza la información de disponibilidad y precios entre el PMS y todos los canales de venta online (OTAs, GDS, web propia)." },
            { q: "¿Qué sistema permite realizar cargos desde otros departamentos (restaurante, bar, etc.), evitando cargos manuales y minimizando errores?", options: ["PMS", "TPV (Terminal Punto de Venta)", "GDS", "SCR"], a: 1, e: "El TPV permite realizar cargos automáticos a las cuentas de los huéspedes, integrando los gastos de los diferentes puntos de venta con el PMS." },
            { q: "¿Qué dispositivo se describe como un ordenador que aúna las funciones de un ordenador, útil para la toma de comandas si se le introduce el software adecuado?", options: ["TPV Fijo", "PC de escritorio", "PDA (Personal Digital Assistant)", "Servidor central"], a: 2, e: "La PDA es un dispositivo móvil que permite la toma de comandas o la gestión de tareas de forma inalámbrica." },
            { q: "¿Qué sistema de gestión de la información automatiza los procesos operativos o productivos de la empresa y consta de varios módulos (ventas, RRHH, almacén, finanzas, etc.)?", options: ["PMS", "GDS", "ERP (Enterprise Resource Planning)", "Channel Manager"], a: 2, e: "El ERP es un sistema integral que abarca todos los procesos y departamentos de la empresa, no solo la gestión hotelera (que es el PMS)." },
            { q: "¿Qué característica de seguridad se menciona para el ERP en el texto?", options: ["Solo funciona con efectivo", "Está protegida ante posible espionaje", "No necesita internet", "Solo tiene interfaz de escritorio"], a: 1, e: "El ERP es un sistema integral que cuenta con una interfaz web y está protegido ante posible espionaje, gestionando información sensible de la empresa." },

            // --- C. Preguntas Adicionales (Total 75) ---

            { q: "La ubicación de la Recepción, ¿por qué motivo suele ser un punto estratégico en el establecimiento?", options: ["Porque está cerca de la cocina", "Porque es el lugar de tradicional acceso y atención al cliente", "Porque es donde se guardan los uniformes", "Porque es la zona más ruidosa del hotel"], a: 1, e: "La recepción está ubicada estratégicamente para ser el primer punto de contacto visual y de servicio para el huésped." },
            { q: "¿Qué otro término se utiliza comúnmente para referirse al 'mostrador' de recepción?", options: ["Back Office", "Front Desk", "Departamento de Contabilidad", "Almacén"], a: 1, e: "El término 'Front Desk' es el equivalente anglosajón del mostrador de recepción, la parte visible del departamento." },
            { q: "Si un huésped solicita un cambio de habitación, ¿qué departamento se encarga de gestionar esta petición?", options: ["Mantenimiento", "Comercial", "Recepción", "Recursos Humanos"], a: 2, e: "Recepción es el departamento que gestiona la asignación y el cambio de habitaciones." },
            { q: "La parametrización informática del departamento de recepción se refiere a:", options: ["La decoración de la oficina", "La configuración y adaptación del PMS a las necesidades del hotel", "La contratación del personal informático", "La compra de papel para la impresora"], a: 1, e: "Parametrizar significa configurar un sistema informático (como el PMS) con los datos y reglas específicas del establecimiento (tarifas, tipos de habitación, etc.)." },
            { q: "¿Cuál de las siguientes es una función de control del Jefe/a de Recepción?", options: ["Pintar las paredes del hotel", "Controlar la caja y los cuadres diarios", "Diseñar la web del hotel", "Encargarse de la jardinería"], a: 1, e: "El control de caja, cobros y cuadres es una función fundamental de supervisión en la recepción." },
            { q: "Un Check-in requiere la verificación de la reserva y:", options: ["La limpieza de la habitación", "El pago de la cena", "La firma de la Hoja de Registro y la entrega de la llave", "El envío de un fax"], a: 2, e: "El check-in se completa con la confirmación de datos, registro legal y la entrega del medio de acceso a la habitación." },
            { q: "¿Por qué es importante que Recepción coordine con el departamento Comercial?", options: ["Para conocer las nuevas tarifas y las ofertas de venta", "Para pedir platos de comida", "Para reparar averías", "Para lavar la ropa"], a: 0, e: "Recepción necesita conocer las tarifas y estrategias de venta para ofrecer la información correcta y gestionar las reservas conforme a ellas." },
            { q: "La 'seguridad' en los establecimientos de alojamiento turístico, en relación a Recepción, incluye la gestión de:", options: ["Las cámaras de vigilancia y el acceso a zonas restringidas", "La preparación de los postres", "El horario del personal de limpieza", "La decoración navideña"], a: 0, e: "Recepción controla el acceso (llaves, tarjetas) y colabora estrechamente con el departamento de seguridad/vigilancia." },
            { q: "¿Cuál es la principal ventaja de utilizar un TPV en lugar de realizar cargos manuales?", options: ["Aumenta la necesidad de papel", "Minimiza los errores y descuadres de facturación", "Hace más lenta la atención", "Solo acepta pago en efectivo"], a: 1, e: "La automatización del cargo reduce drásticamente la posibilidad de errores humanos en la transcripción de las cuentas." },
            { q: "Un sistema que ofrece en tiempo real una gama de productos (hoteles, vuelos) introduciendo parámetros adecuados se refiere al:", options: ["PMS", "GDS", "ERP", "TPV"], a: 1, e: "El GDS (Global Distribution System) es la plataforma global que agrega y distribuye productos turísticos a agencias de viajes." },
            { q: "¿Qué permite al establecimiento decidir la estrategia de adaptar tarifas, al registrar reservas en tiempo real?", options: ["El ERP", "El PMS", "El GDS", "La PDA"], a: 1, e: "El PMS (Property Management System) es el que recibe la información de ocupación y tarifas al instante, permitiendo la gestión de revenue." },
            { q: "¿Qué sistema de gestión automatiza procesos operativos como ventas, recursos humanos y finanzas, y está protegido ante posible espionaje?", options: ["PMS", "TPV", "ERP", "GDS"], a: 2, e: "El ERP (Enterprise Resource Planning) es el sistema integral de gestión de la información de toda la empresa." },
            { q: "La PDA, con el software adecuado, se menciona como útil para:", options: ["Realizar el pago de impuestos", "La toma de comandas en el restaurante o bar", "La reparación de ascensores", "La gestión de la web"], a: 1, e: "Un Personal Digital Assistant (PDA) es útil como herramienta de trabajo móvil, por ejemplo, para tomar pedidos en un restaurante." },
            { q: "¿Qué sistema está enlazado a un PMS pero se especializa en la gestión de reservas de un sector (hotelero, alquiler de vehículos)?", options: ["GDS", "CRS/SCR", "TPV", "ERP"], a: 1, e: "El CRS (Central Reservation System) es un sistema de gestión de reservas, a menudo sectorial y conectado al PMS." },
            { q: "¿Qué elemento es fundamental en la Recepción para que un establecimiento pueda ofertar sus habitaciones en la red a través de agencias?", options: ["Un buen chef", "Conectividad (a través de GDS)", "Una piscina muy grande", "Un gran almacén"], a: 1, e: "La conectividad proporcionada por sistemas como el GDS es esencial para la distribución online a través de agencias." },
            { q: "El control de personal en Recepción incluye la verificación de:", options: ["La temperatura de la piscina", "Los horarios, turnos y rendimiento de los empleados", "El precio de la luz", "El estado de las carreteras"], a: 1, e: "La organización y control de personal es clave para una correcta gestión del departamento." },
            { q: "¿Qué término hace referencia a la adaptación al contexto a la hora de controlar, organizar e innovar, buscando la mejora continua?", options: ["Inmovilismo", "Estandarización", "Flexibilidad y adaptación", "Rutina"], a: 2, e: "La adaptación al contexto implica flexibilidad e innovación para mejorar los procesos operativos." },
            { q: "¿Qué es el 'Check-out'?", options: ["La entrada del huésped", "La salida y el cierre de la cuenta del huésped", "Un tipo de desayuno", "Una reunión de personal"], a: 1, e: "El check-out es el proceso de finalización de la estancia, que incluye la liquidación de la factura y la salida del huésped." },
            { q: "La facturación y caja es una función que se realiza principalmente en el área de:", options: ["Cocina", "Mantenimiento", "Recepción", "Dirección"], a: 2, e: "Recepción (Front Desk) es el departamento responsable de la facturación y el manejo de la caja del huésped." },
            { q: "¿Cuál es un módulo típico de un ERP, además de ventas y finanzas?", options: ["Diseño gráfico", "Recursos Humanos", "Jardinería", "Meteorología"], a: 1, e: "Los ERPs suelen tener módulos para RRHH, Almacén, Ventas, Finanzas, etc., ya que son sistemas de planificación de recursos empresariales." },
            { q: "La comunicación en el departamento de Recepción es vital con el departamento de Mantenimiento para gestionar:", options: ["Las reservas de vuelos", "Las averías y reparaciones de las habitaciones", "La compra de uniformes", "El menú del día"], a: 1, e: "La notificación inmediata de averías por Recepción a Mantenimiento es clave para la satisfacción del cliente y la disponibilidad de habitaciones." },
            { q: "¿A qué se refiere la 'conectividad' proporcionada por sistemas como el GDS?", options: ["Acceso a internet para los empleados", "Capacidad del hotel para ofertarse en la red a través de agencias", "Uso de teléfonos móviles", "Conexión a la televisión por cable"], a: 1, e: "La conectividad se refiere a la capacidad de distribución e inventario en tiempo real a través de plataformas externas." },
            { q: "¿Qué se debe evitar al máximo en el uso del TPV, según el texto, para minimizar errores?", options: ["Los cargos automáticos", "Los cargos manuales", "El uso de tarjetas de crédito", "Los pagos en efectivo"], a: 1, e: "El objetivo del TPV es evitar los cargos manuales y la consecuente minimización de errores y descuadres." },
            { q: "El PMS facilita la toma de decisiones al permitir al establecimiento decidir la estrategia que más le convenga en cuanto a:", options: ["El color de la pintura", "Adaptar tarifas", "El tipo de música ambiental", "La cantidad de toallas"], a: 1, e: "La gestión de tarifas en función de la ocupación en tiempo real (Revenue Management) es una función clave del PMS." },
            { q: "¿Qué es una de las tareas más importantes del 'Control de las actividades de recepción'?", options: ["Elaboración de cócteles", "Gestión de los documentos de cobro y facturación (arqueo de caja)", "Reparación de cerraduras", "Limpieza de las zonas comunes"], a: 1, e: "El arqueo de caja y el control de documentos contables son esenciales para el cierre de la jornada en recepción." },
            { q: "La figura del Recepcionista (Jefe de Sector) tiene la responsabilidad de:", options: ["Cocinar los platos del menú", "Supervisar las tareas del personal a su cargo y la atención al cliente", "Diseñar la estrategia de marketing", "Negociar con proveedores"], a: 1, e: "El Jefe de Sector o Recepcionista de turno es responsable de la supervisión directa del equipo y la operatividad del mostrador." },
            { q: "¿Cuál es el propósito del 'Servicio de Teléfonos' en un hotel?", options: ["Vender teléfonos móviles", "Gestionar la centralita, llamadas, mensajes y despertadores", "Reparar la red de internet", "Controlar la seguridad exterior"], a: 1, e: "Se encarga de las comunicaciones y servicios de despertador dentro del hotel." },
            { q: "En el contexto de reservas, ¿qué significa 'optimizar la búsqueda de información' en el GDS?", options: ["Usar un buscador más rápido", "Ofrecer en tiempo real una gama de productos que responde a lo solicitado", "Comprar más ordenadores", "Limpiar el servidor"], a: 1, e: "La optimización se refiere a la eficiencia para encontrar y ofrecer el producto turístico que mejor se ajusta a los parámetros del cliente." },
            { q: "¿Qué tipo de datos almacena principalmente el PMS?", options: ["Datos geológicos", "Datos de huéspedes, reservas, habitaciones y cargos", "Datos astronómicos", "Datos de tráfico aéreo"], a: 1, e: "El PMS gestiona todos los datos relativos a la operativa hotelera y la estancia del huésped." },
            { q: "Si la Recepción detecta que hay una discrepancia entre la ocupación real y la registrada en el sistema, ¿qué acción debe realizar inmediatamente?", options: ["Ignorarlo", "Avisar a Contabilidad y Pisos para corregir el error", "Cerrar el hotel", "Irse a casa"], a: 1, e: "Una discrepancia de ocupación (bloqueo) requiere una coordinación inmediata para verificar el estado de la habitación y actualizar los sistemas." },

            // ... (Additional questions to reach the 75 limit) ...
            { q: "¿Qué tipo de sistema de gestión de reservas está 'enlazado a un PMS, pero cada uno especializado en sector'?", options: ["GDS", "CRS/SCR", "ERP", "TPV"], a: 1, e: "El CRS (Sistema Central de Reservas) está diseñado para gestionar reservas y se conecta al PMS para actualizar el inventario." },
            { q: "La automatización de procesos operativos o productivos de la empresa es la función principal de:", options: ["GDS", "PMS", "ERP", "CHANNEL MANAGER"], a: 2, e: "El ERP (Enterprise Resource Planning) es el sistema que automatiza y gestiona la planificación de recursos de toda la empresa." },
            { q: "Si un huésped necesita que le guarden un paquete o le gestionen un servicio de lavandería, ¿a qué subdepartamento de recepción debe acudir?", options: ["Facturación", "Telefonista", "Conserjería", "Mantenimiento"], a: 2, e: "Conserjería (Concierge) se encarga de la atención personalizada y la gestión de servicios auxiliares como lavandería, taxis y paquetería." },
            { q: "¿Cuál es el objetivo principal del 'Control de personal' en el departamento de Recepción?", options: ["Organizar una fiesta", "Asegurar la cobertura de turnos, el buen rendimiento y la calidad del servicio", "Limitar el uso de internet", "Contar el dinero de la caja fuerte"], a: 1, e: "El control de personal busca optimizar la gestión de RRHH para garantizar la operativa 24/7 de la recepción." },
            { q: "El PMS permite al hotel ver la disponibilidad de habitaciones en tiempo real. Esto es esencial para:", options: ["Poder adaptar el menú del día", "Realizar overbooking de forma controlada y segura", "Decidir el color de las flores", "Contar el número de coches aparcados"], a: 1, e: "La gestión de overbooking (venta de más habitaciones de las disponibles, con una estrategia de reubicación) requiere una información de inventario en tiempo real." },
            { q: "¿Qué sistema centraliza la información de disponibilidad y precios entre el PMS y los canales de distribución online?", options: ["GDS", "CRS", "CHANNEL MANAGER", "ERP"], a: 2, e: "El Channel Manager actúa como un 'puente' para mantener la paridad y la disponibilidad actualizada en todas las plataformas de venta." },
            { q: "Si se produce un 'descuadre' en la caja de la Recepción, ¿quién es el principal responsable de investigarlo y solucionarlo?", options: ["El camarero del bar", "El Jefe/a de Recepción o el Auditor Nocturno", "El jardinero", "El contable externo"], a: 1, e: "El Jefe/a de Recepción es el responsable directo de los cuadres de caja del departamento." },
            { q: "¿Cómo se llama el proceso de asignar una habitación específica a un huésped con una reserva ya confirmada?", options: ["Mapping", "Blocking (Bloqueo)", "Tracking", "Flipping"], a: 1, e: "El 'Bloqueo' es la acción de asignar una habitación disponible específica a una reserva." },
            { q: "La relación entre Recepción y el Departamento de Contabilidad es esencial para:", options: ["La limpieza de las habitaciones", "El envío de la facturación y el registro de cobros", "El mantenimiento del ascensor", "La organización de eventos"], a: 1, e: "Recepción es la fuente de los datos de facturación y cobro que Contabilidad necesita para el cierre financiero." },
            { q: "¿Qué significa que el ERP cuente con 'varios módulos'?", options: ["Que tiene varias pantallas de inicio", "Que integra diferentes áreas funcionales como ventas, RRHH y finanzas", "Que solo sirve para una tarea", "Que necesita un módulo de expansión externo"], a: 1, e: "La modularidad es una característica clave del ERP, permitiendo la gestión integrada de distintas áreas de la empresa." },
            { q: "La recepción es el punto de tradicional para ser atendido. En otras palabras, para hacer el:", options: ["Paseo", "Registro", "Descanso", "Aseo"], a: 1, e: "El 'registro' (check-in) es la principal acción inicial que se realiza en el mostrador." },
            { q: "¿Qué dispositivo utiliza la tecnología para facilitar la toma de comandas en el restaurante y su envío a cocina?", options: ["El teléfono fijo", "La PDA", "La caja fuerte", "El televisor"], a: 1, e: "La PDA, con el software de comandas adecuado, agiliza el servicio de alimentos y bebidas." },
            { q: "El uso del GDS es un ejemplo de cómo el establecimiento se puede ofertar en la red a través de:", options: ["Redes sociales personales", "Agencias (de viajes)", "Empresas de taxi", "Tiendas de ropa"], a: 1, e: "El GDS conecta al hotel con las agencias de viajes de todo el mundo." },
            { q: "¿Cuál de estos sistemas NO está diseñado principalmente para la gestión de reservas?", options: ["PMS", "GDS", "TPV", "SCR"], a: 2, e: "El TPV está diseñado para la gestión de cobros y cargos, no de reservas." },
            { q: "La información que facilita el Recepcionista en el Front Desk debe ser siempre:", options: ["Dudosa", "Confidencial y precisa", "Antigua", "Incompleta"], a: 1, e: "La precisión y la confidencialidad son valores esenciales en la atención al cliente en Recepción." },
            { q: "¿Qué figura tiene la responsabilidad de realizar la auditoría o cierre contable del día durante la noche?", options: ["El Chef", "El Recepcionista Nocturno (Auditor)", "El Botones", "El Director General"], a: 1, e: "El Auditor Nocturno es clave para el control de caja y el cierre contable de la jornada." },
            { q: "¿Cuál es el principal documento legal que se genera en la recepción al realizar el Check-in?", options: ["Ticket de comida", "Hoja de Registro", "Contrato de trabajo", "Factura de proveedores"], a: 1, e: "La Hoja de Registro recoge los datos obligatorios del huésped para su control administrativo y legal." },
            { q: "El Back Office se centra en tareas:", options: ["De contacto directo con el cliente", "Administrativas y de archivo, sin contacto directo con el cliente", "De mantenimiento de la piscina", "De cocina"], a: 1, e: "El Back Office maneja tareas de apoyo interno para liberar al Front Office de las tareas de atención directa." },
            { q: "La coordinación entre Recepción y Pisos es crucial para gestionar la 'limpieza y estado' de las:", options: ["Zonas comunes", "Habitaciones", "Cocinas", "Oficinas"], a: 1, e: "La Recepción necesita el estado actualizado de las habitaciones (limpia, sucia, en revisión) para poder asignarlas." },
            { q: "¿Qué permite el Channel Manager en relación con las OTAs (Online Travel Agencies)?", options: ["Reservar vuelos", "Sincronizar la disponibilidad y precios en tiempo real", "Lavar la ropa", "Contratar personal"], a: 1, e: "El Channel Manager evita la venta doble y garantiza la paridad de precios en los canales online." },
            { q: "En el contexto hotelero, ¿qué significa la sigla TPV?", options: ["Tarifa Plana de Viajes", "Terminal Punto de Venta", "Transferencia de Personal de Vigilancia", "Tratamiento de Papel Vencido"], a: 1, e: "TPV (Terminal Punto de Venta) es el sistema usado para gestionar cobros y cargos de servicios." },
            { q: "¿Cuál es una función típica de Conserjería?", options: ["Hacer la auditoría nocturna", "Gestión de servicios externos: taxis, información turística, reserva de espectáculos", "Preparar el desayuno", "Limpiar los pasillos"], a: 1, e: "Conserjería (Concierge) ofrece servicios de apoyo y asistencia personalizada al huésped." },
            { q: "Un sistema de reservas centralizado (CRS) está especializado en un sector. ¿Qué sector suele ser el más relevante en la conexión con un PMS?", options: ["Farmacéutico", "Hotelero", "Naval", "Textil"], a: 1, e: "El CRS para el sector hotelero es un gestor de reservas que se conecta directamente al PMS del hotel." },
            { q: "La gestión de los turnos y vacaciones del personal de recepción es una función del 'Control de':", options: ["Calidad", "Inventario", "Personal", "Finanzas"], a: 2, e: "El control de personal se encarga de la planificación y gestión de los recursos humanos del departamento." },
            { q: "El concepto de 'Flexibilidad y adaptación' en la recepción busca:", options: ["Mantener siempre la misma tarifa", "La mejora continua y la innovación en los procesos", "Evitar cualquier tipo de cambio", "Reducir la plantilla al mínimo"], a: 1, e: "La flexibilidad es clave para adaptarse a las necesidades cambiantes del huésped y del mercado." },
            { q: "¿Qué ventaja ofrece la interfaz web de un ERP?", options: ["Solo funciona de noche", "Acceso a la información desde cualquier lugar con conexión", "Necesita un software especial para cada ordenador", "No permite la entrada de datos"], a: 1, e: "Una interfaz web permite el acceso remoto y la gestión de la información desde distintas ubicaciones." },
            { q: "El TPV permite realizar cargos desde el Bar o el Restaurante directamente a la cuenta del huésped, evitando:", options: ["Las propinas", "Los cargos manuales", "Las sonrisas", "El uso de la nevera"], a: 1, e: "Evitar los cargos manuales es el objetivo principal del TPV en la facturación del huésped." },
            { q: "¿Amadeus y Worldspan son ejemplos de qué tipo de sistema?", options: ["PMS", "ERP", "GDS", "TPV"], a: 2, e: "Son ejemplos de Global Distribution Systems, utilizados por agencias para reservar." },
            { q: "La función de Recepción de 'atender a las peticiones' del huésped se realiza principalmente durante la:", options: ["Reserva", "Estancia", "Contabilidad", "Selección de personal"], a: 1, e: "La recepción es el punto de atención durante toda la estancia del cliente en el hotel." },
            { q: "¿Qué significa que un sistema esté 'protegido ante posible espionaje'?", options: ["Que tiene una cerradura física", "Que cuenta con medidas de seguridad informática y cifrado", "Que no usa internet", "Que solo lo usa una persona"], a: 1, e: "Se refiere a la seguridad de los datos contra accesos no autorizados, una característica clave del ERP." },
            { q: "La 'Cuantificación de la plantilla' de recepción tiene como objetivo:", options: ["Contar el número de bombillas", "Determinar el número óptimo de empleados por turno y necesidad", "Medir la altura del mostrador", "Pesar las maletas"], a: 1, e: "Busca dimensionar correctamente la plantilla para garantizar la atención 24/7 de la recepción." },
            { q: "La dependencia jerárquica del Jefe/a de Recepción del Director/a de Alojamiento se debe a que Recepción forma parte de la División de:", options: ["Marketing", "Habitaciones (Alojamiento)", "Cocina", "Ventas"], a: 1, e: "El Departamento de Alojamiento (o División de Habitaciones) engloba Recepción y Pisos." },
            { q: "¿Qué implica la 'gestión y seguimiento' del día a día por parte del Departamento de Alojamiento?", options: ["La compra de vinos", "El control de check-in, check-out, y la ocupación", "La reparación de vehículos", "El diseño de logotipos"], a: 1, e: "Se refiere a la operativa diaria que asegura el flujo de huéspedes y habitaciones." },
            { q: "Si la Recepción necesita conocer si una habitación está lista para un nuevo huésped, contacta con:", options: ["Mantenimiento", "Pisos (Gobernanta)", "Contabilidad", "Dirección"], a: 1, e: "Pisos (Housekeeping) informa del estado de limpieza y disponibilidad de las habitaciones." },
            { q: "¿Qué tipo de dispositivo se describe como 'un ordenador que aúna las funciones de un ordenador'?", options: ["Servidor", "PDA (Personal Digital Assistant)", "Caja Registradora", "Impresora"], a: 1, e: "La PDA es un dispositivo móvil y versátil que permite funcionalidades de PC en mano." },
            { q: "El TPV permite evitar los cargos manuales, lo que 'minimiza considerablemente' los:", options: ["Aciertos", "Errores y descuadres", "Clientes", "Desayunos"], a: 1, e: "La automatización reduce los fallos humanos en la transcripción de cargos." },
            { q: "¿Qué módulo del ERP gestiona las contrataciones, nóminas y vacaciones?", options: ["Ventas", "Finanzas", "Almacén", "Recursos Humanos (RRHH)"], a: 3, e: "RRHH es el módulo del ERP encargado de la gestión del personal." },
            { q: "La función del Back Office de 'gestión de archivos' incluye:", options: ["Lavar la ropa de cama", "Organizar la documentación de las estancias pasadas", "Servir café a los huéspedes", "Pintar la fachada"], a: 1, e: "El archivo y control documental es una tarea administrativa clave del Back Office." },
            { q: "Al realizar el Check-out, la Recepción procede a:", options: ["Servir la cena", "Cerrar la cuenta y liquidar la factura del huésped", "Abrir la reserva", "Limpiar el bar"], a: 1, e: "El check-out implica la finalización administrativa y económica de la estancia." },
            { q: "El PMS, al registrar reservas en tiempo real, permite la gestión dinámica de:", options: ["El clima", "Las tarifas (Revenue Management)", "El tráfico de la ciudad", "El número de pisos del hotel"], a: 1, e: "La capacidad de adaptar tarifas en función de la ocupación en tiempo real (Revenue Management) es una función crucial del PMS." },
            { q: "¿Qué departamento se encarga de la gestión de averías y reparaciones de las instalaciones?", options: ["Recepción", "Mantenimiento", "Comercial", "Pisos"], a: 1, e: "Mantenimiento es el departamento responsable de la infraestructura y reparaciones." },
            { q: "El 'Servicio de Teléfonos' en recepción también se encarga de la gestión de:", options: ["Los pedidos de comida a domicilio", "Los mensajes y el servicio de despertador", "La compra de vehículos", "La contabilidad"], a: 1, e: "Gestionar mensajes y las alarmas de despertador son tareas esenciales del telefonista." },
            { q: "¿Qué significa que el GDS 'proporciona conectividad a los establecimientos'?", options: ["Que regala internet", "Que les permite vender sus productos a través de agencias en la red", "Que solo funciona sin conexión", "Que es un tipo de teléfono"], a: 1, e: "Conectividad se refiere a la capacidad de distribución global a través de la red de agencias." },
            { q: "Si un huésped necesita información sobre un tour local, ¿quién le asistirá?", options: ["El Jefe de Cocina", "Conserjería", "El Auditor Nocturno", "El Contable"], a: 1, e: "Conserjería es el punto de referencia para información turística y servicios de asistencia." },
            { q: "La estructura organizativa de Recepción está encabezada por el:", options: ["Presidente del País", "Jefe/a de Recepción", "Jefe/a de Pisos", "Jefe de Mantenimiento"], a: 1, e: "El Jefe/a de Recepción es la máxima autoridad dentro del departamento de Recepción." },
            { q: "¿Cuál es el principal objetivo del 'Control de las actividades de recepción'?", options: ["Asegurar que el Recepcionista siempre sonría", "Garantizar la correcta gestión de cobros, facturación y cuadre de caja", "Limitar las llamadas telefónicas", "Contar las sillas del lobby"], a: 1, e: "El control financiero y documental es prioritario para el cierre de la jornada." },
            { q: "La relación con el departamento Comercial es importante para Recepción al momento de gestionar:", options: ["Las nuevas estrategias de venta y tarifas", "La limpieza de alfombras", "La reparación de tejados", "El menú del personal"], a: 0, e: "Recepción aplica las tarifas y políticas de venta definidas por el departamento Comercial." },
            { q: "El sistema ERP se utiliza para la planificación de recursos. ¿Qué significa la 'E' en la sigla ERP?", options: ["Eléctrico", "Económico", "Enterprise (Empresarial)", "Especial"], a: 2, e: "ERP significa Enterprise Resource Planning." },
            { q: "La seguridad en Recepción implica el control de:", options: ["Las recetas de cocina", "El acceso y las llaves (tarjetas) de las habitaciones", "Los mensajes de texto personales", "Los uniformes sucios"], a: 1, e: "El control de acceso a las habitaciones es una función de seguridad vital de la Recepción." },
            { q: "El PMS centraliza los datos de la estancia. ¿Qué dato NO es gestionado por el PMS de forma primaria?", options: ["El cargo del minibar", "El tipo de habitación", "La nómina del Director General", "La fecha de Check-in"], a: 2, e: "La nómina es gestionada por el módulo de RRHH del ERP, no por el PMS." },
            { q: "¿Qué subdepartamento es la 'primera cara' que ve el huésped en el hotel?", options: ["Back Office", "Front Desk (Mostrador)", "Lavandería", "Contabilidad"], a: 1, e: "El Front Desk es el punto de atención directa y visible para el cliente." },
            { q: "La adaptación al contexto implica ser 'flexible' e 'innovador', buscando la:", options: ["Disminución de clientes", "Mejora continua", "Aumento de averías", "Reducción de horarios"], a: 1, e: "La mejora continua es el objetivo de la adaptación organizativa." },
            { q: "¿Cuál es un ejemplo de TPV Fijo?", options: ["Un ordenador portátil", "Un terminal de sobremesa en el bar", "Una PDA", "Un teléfono móvil"], a: 1, e: "El TPV fijo es el terminal tradicional anclado a un mostrador o barra." },
            { q: "El GDS optimiza la búsqueda de información ofreciendo en tiempo real una 'gama de productos'. Esto incluye:", options: ["Solo hoteles", "Hoteles, vuelos, coches de alquiler y otros servicios turísticos", "Solo productos de limpieza", "Solo material de oficina"], a: 1, e: "El GDS es una plataforma integral que distribuye múltiples productos turísticos." },
            { q: "La Recepción debe coordinar con el departamento de Pisos para evitar:", options: ["Que el huésped coma mucho", "Asignar habitaciones que todavía están en limpieza", "Que la piscina se vacíe", "Que el sol se oculte"], a: 1, e: "La mala coordinación puede llevar a la asignación de una habitación 'sucia', un error grave." },
            { q: "¿Qué función del Recepcionista Nocturno prepara el hotel para las operaciones del día siguiente?", options: ["El cierre y balance de la jornada", "La apertura de las reservas futuras", "La atención al público durante la noche", "Todas las anteriores"], a: 3, e: "El Auditor Nocturno realiza tanto la auditoría (cierre) como la atención durante la noche, preparando todo para el turno de mañana." },
            { q: "El CHANNEL MANAGER permite al hotel gestionar sus ventas a través de:", options: ["Un único canal", "Canales de distribución Online (OTAs, GDS, etc.) de forma centralizada", "Solo por teléfono", "Solo por fax"], a: 1, e: "Centraliza la gestión de múltiples canales de venta online." },
            { q: "En la facturación, el PMS agrupa todos los 'cargos' del huésped. Un cargo puede provenir de:", options: ["El servicio de habitaciones", "El bar", "El restaurante", "Todos los anteriores"], a: 3, e: "El PMS consolida todos los gastos del huésped en su cuenta para el Check-out." },
            { q: "¿Qué sistema está protegido ante posible espionaje y consta de varios módulos (ventas, RRHH, etc.)?", options: ["PMS", "TPV", "ERP", "GDS"], a: 2, e: "El ERP es el sistema de gestión integral y seguro de la información empresarial." },
            { q: "La función principal del Front Office?", options: ["Tareas administrativas internas", "Atención directa y presencial al huésped", "Mantenimiento de equipos", "Gestión de nóminas"], a: 1, e: "El Front Office es la cara del hotel y se centra en la interacción con el cliente." },
            { q: "La necesidad de una 'Cuantificación de la plantilla' se basa en la atención que debe ofrecer Recepción, que es de:", options: ["8 horas al día", "4 horas al día", "24 horas al día, 7 días a la semana", "Solo durante el día"], a: 2, e: "La recepción opera continuamente, lo que exige una planificación de personal rigurosa." },
            { q: "Si el CRS está enlazado al PMS, su función principal es:", options: ["Vender aviones", "Recibir, gestionar y enviar reservas al PMS", "Limpiar el lobby", "Hacer llamadas de broma"], a: 1, e: "El CRS maneja la entrada de reservas de un sector y las comunica al sistema principal (PMS)." },
            { q: "La 'facturación y caja' en Recepción implica la liquidación de cuentas y la gestión de:", options: ["Los muebles", "Los cobros y pagos de los huéspedes", "Los libros de la biblioteca", "El aire acondicionado"], a: 1, e: "La gestión de caja se refiere a la entrada y salida de dinero por servicios." },
            { q: "¿Cuál es un ejemplo de dispositivo que permite la toma de comandas de forma inalámbrica?", options: ["Un PC de escritorio", "Un TPV fijo", "Una PDA", "Una impresora"], a: 2, e: "La PDA, por su portabilidad, es ideal para la toma de comandas móvil." },
            { q: "El control en Recepción busca la 'mejora continua'. Esto se logra a través de:", options: ["Ignorar los errores", "La revisión constante y la adaptación al contexto", "Hacer siempre lo mismo", "No escuchar al cliente"], a: 1, e: "La mejora continua es un ciclo de revisión y adaptación." },
            { q: "La relación entre Recepción y Dirección se enfoca en:", options: ["Los chismes", "El reporte de resultados, incidencias graves y la implementación de políticas", "La limpieza de baños", "El cambio de bombillas"], a: 1, e: "Recepción reporta directamente a la Dirección de Alojamiento, brindando información operativa crítica." },
            { q: "Si un cliente olvida su pasaporte, ¿qué subdepartamento lo gestionará?", options: ["Mantenimiento", "Conserjería (objetos perdidos)", "Cocina", "Telefonista"], a: 1, e: "Conserjería o el Front Desk se encargan de la gestión de objetos perdidos." },
            { q: "El TPV, al minimizar errores, ayuda a la Recepción en su función de:", options: ["Comercialización", "Control de caja y facturación", "Limpieza", "Seguridad"], a: 1, e: "Una facturación sin errores es clave para un buen control de caja." },
            { q: "¿Cuál es el propósito del Check-in?", options: ["Aprobar una inspección", "Formalizar la entrada del huésped y el registro legal", "Reparar una avería", "Cerrar el hotel"], a: 1, e: "El check-in es el proceso de registro oficial." },
            { q: "La parametrización del PMS incluye definir las:", options: ["Medidas de los jardines", "Tarifas, tipos de habitación y políticas de cobro", "Recetas de cocina", "Marcas de café"], a: 1, e: "Se configuran los aspectos operativos y comerciales del hotel en el sistema." },
            { q: "Un ERP consta de varios módulos. Si una empresa adquiere uno, busca la gestión:", options: ["Aislada de cada departamento", "Centralizada e integral de los procesos empresariales", "Solo de las ventas", "Solo de la contabilidad"], a: 1, e: "La integración y centralización de la información es el gran valor del ERP." },
            { q: "En el TPV, el 'Punto de Venta' se refiere a:", options: ["El hotel", "Cualquier lugar donde se realice un cobro (bar, restaurante, recepción)", "Solo la tienda de regalos", "Solo la Recepción"], a: 1, e: "Un Punto de Venta es cualquier centro de consumo dentro del establecimiento." },
            { q: "La principal función de Conserjería es:", options: ["Limpiar el polvo", "La asistencia personalizada y gestión de servicios auxiliares", "Hacer la cena", "Escribir correos"], a: 1, e: "Se enfoca en el servicio al cliente más allá de las funciones básicas de recepción." },
            { q: "La Recepción debe coordinarse con Mantenimiento para evitar:", options: ["Que el cliente pague", "Asignar habitaciones con averías no resueltas", "Que se haga de día", "Que el teléfono suene"], a: 1, e: "Es vital no vender o asignar habitaciones que no están en perfecto estado." },
            { q: "¿Qué función del PMS permite aplicar 'estrategias dinámicas de precios'?", options: ["El registro en tiempo real de reservas", "La impresión de facturas", "La gestión de llaves", "La alarma de incendios"], a: 0, e: "La actualización instantánea de la ocupación permite al hotel modificar precios según la demanda." },
            { q: "El Jefe/a de Recepción es responsable de la supervisión de las tareas de:", options: ["Solo el telefonista", "Todo el personal a su cargo", "Solo el Auditor Nocturno", "Solo el director"], a: 1, e: "El Jefe de Recepción supervisa a todos los subdepartamentos bajo su mando." },
            { q: "La seguridad incluye la gestión de las llaves/tarjetas para controlar el acceso y evitar:", options: ["Que la gente salga", "Que personas no autorizadas entren en las habitaciones", "Que se acabe la comida", "Que se encienda la televisión"], a: 1, e: "El control de accesos es una medida de seguridad fundamental para el huésped." },
            { q: "El CHANNEL MANAGER se conecta con el PMS y el GDS para asegurar la consistencia en:", options: ["El color de los uniformes", "El inventario de habitaciones y las tarifas", "El tipo de música", "La hora del desayuno"], a: 1, e: "Su función es mantener la paridad de datos entre sistemas y canales de venta." },
            { q: "¿Cuál es el principal punto de 'contacto' entre el hotel y el huésped durante la mayor parte de la estancia?", options: ["El garaje", "La Recepción (Front Desk)", "El tejado", "La lavandería"], a: 1, e: "La Recepción es el centro neurálgico de la atención al cliente." },
            { q: "El subdepartamento de Teléfonos es también conocido como:", options: ["El servicio de habitaciones", "La centralita", "La oficina de correos", "El almacén"], a: 1, e: "Centralita es el término tradicional para el servicio de gestión de llamadas y mensajes." },
            { q: "¿Qué hace que el ERP esté protegido ante posible 'espionaje'?", options: ["Su ubicación física", "Sus protocolos de seguridad y cifrado", "Su bajo precio", "Su color"], a: 1, e: "La protección contra espionaje se refiere a la seguridad informática de los datos sensibles." },
        ];
        
        // --- 2. STATE MANAGEMENT ---
        let mode = '';
        let currentQuestions = [];
        let answers = {};
        let quizStarted = false;
        let quizSubmitted = false;
        let answeredCount = 0;

        // --- 3. CORE FUNCTIONS ---

        /**
         * Navigates back to the mode selection screen, resetting the state.
         */
        function showModeSelection() {
            // Reset state
            mode = '';
            currentQuestions = [];
            answers = {};
            quizStarted = false;
            quizSubmitted = false;
            answeredCount = 0;

            // Show/Hide containers
            document.getElementById('mode-selection').classList.remove('hidden');
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('results-container').classList.add('hidden');
            
            // Re-render icons for good measure
            lucide.createIcons(); 
        }

        /**
         * Selects 20 random questions from the allQuestions array.
         */
        function selectRandomQuestions() {
            // Shuffle the array
            const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
            // Select first 20
            currentQuestions = shuffled.slice(0, 20);
        }

        /**
         * Starts the quiz with the selected mode.
         * @param {string} selectedMode - 'estudiar' or 'practicar'.
         */
        function startQuiz(selectedMode) {
            mode = selectedMode;
            selectRandomQuestions();
            quizStarted = true;
            answeredCount = 0;
            answers = {}; // Ensure answers are clean for a new quiz
            quizSubmitted = false;

            renderQuiz();

            // Hide mode selection and show quiz container
            document.getElementById('mode-selection').classList.add('hidden');
            document.getElementById('quiz-container').classList.remove('hidden');

            // Update submit button text based on mode
            const submitButton = document.getElementById('submit-button');
            submitButton.textContent = 'Ver Nota Final';
            submitButton.disabled = true;
            submitButton.classList.remove('hidden'); // Ensure visible
        
            if (mode === 'practicar') {
                submitButton.textContent = 'Enviar Respuestas y Ver Nota';
            }
            
            updateSubmitButtonState();
            document.getElementById('answered-counter').textContent = answeredCount;
            lucide.createIcons(); 
        }

        /**
         * Renders the 20 selected questions into the quiz container.
         */
        function renderQuiz() {
            const listContainer = document.getElementById('question-list');
            listContainer.innerHTML = '';

            currentQuestions.forEach((qData, index) => {
                const questionNumber = index + 1;
                
                // CRITICAL FIX: The options should ONLY be disabled if quizSubmitted is true.
                // In 'estudiar' mode, they must be enabled until answered.
                const isDisabled = quizSubmitted || (mode === 'estudiar' && answers[questionNumber] !== undefined);

                const optionsHtml = qData.options.map((option, optIndex) => `
                    <div>
                        <input type="radio" id="q${questionNumber}-opt${optIndex}" name="q${questionNumber}" value="${optIndex}" class="hidden" 
                            ${answers[questionNumber] === optIndex ? 'checked' : ''} 
                            ${isDisabled ? 'disabled' : ''}
                            onclick="handleAnswer(${questionNumber}, ${optIndex})">
                        <label for="q${questionNumber}-opt${optIndex}" class="block cursor-pointer p-3 border-2 border-gray-200 rounded-lg transition duration-150 ${isDisabled ? 'cursor-default' : 'hover:bg-gray-50'} text-gray-700">
                            ${String.fromCharCode(65 + optIndex)}. ${option}
                        </label>
                    </div>
                `).join('');

                const correctionHtml = `
                    <div id="q${questionNumber}-correction" class="mt-3 p-3 rounded-lg shadow-inner text-sm transition-all duration-300 ${quizSubmitted || (mode === 'estudiar' && answers[questionNumber] !== undefined) ? '' : 'hidden'}">
                        <!-- Correction content -->
                    </div>
                `;

                listContainer.innerHTML += `
                    <div id="q${questionNumber}-card" class="mb-8 p-6 border border-gray-200 rounded-xl shadow-md bg-white">
                        <p class="text-lg font-semibold mb-4 text-blue-800">
                            <span class="bg-blue-100 px-2 py-1 rounded-full mr-2">${questionNumber}/10</span> ${qData.q}
                        </p>
                        <div class="space-y-3" id="q${questionNumber}-options-container">
                            ${optionsHtml}
                        </div>
                        ${correctionHtml}
                    </div>
                `;
            });

            // If already submitted, apply final state and correction
            if (quizSubmitted) {
                applyFinalCorrection();
            } else if (mode === 'estudiar') {
                // If in study mode, apply immediate correction for already answered questions
                currentQuestions.forEach((_, index) => {
                    const qNum = index + 1;
                    if (answers[qNum] !== undefined) {
                        applyCorrection(qNum, answers[qNum], true); // The third argument forces locking options
                    }
                });
            }
            lucide.createIcons(); 
        }

        /**
         * Handles the click on an answer option.
         * @param {number} questionNumber
         * @param {number} selectedOptionIndex
         */
        function handleAnswer(questionNumber, selectedOptionIndex) {
            const previousAnswer = answers[questionNumber];
            answers[questionNumber] = selectedOptionIndex;

            if (previousAnswer === undefined) {
                answeredCount++;
            }
            
            document.getElementById('answered-counter').textContent = answeredCount;

            // In study mode, show correction immediately and lock the current question
            if (mode === 'estudiar') {
                applyCorrection(questionNumber, selectedOptionIndex, true); 
            }

            // Update submit button state
            updateSubmitButtonState();
        }

        /**
         * Shows the correction for a single question.
         * @param {number} questionNumber
         * @param {number} selectedOptionIndex
         * @param {boolean} lockOptions - whether to disable the radio buttons after correction.
         */
        function applyCorrection(questionNumber, selectedOptionIndex, lockOptions = false) {
            const qIndex = questionNumber - 1;
            const qData = currentQuestions[qIndex];
            const correctIndex = qData.a;
            const isCorrect = selectedOptionIndex === correctIndex;

            const card = document.getElementById(`q${questionNumber}-card`);
            const optionsContainer = document.getElementById(`q${questionNumber}-options-container`);
            const correctionDiv = document.getElementById(`q${questionNumber}-correction`);

            // 1. Update Card Styling (optional, but good for context)
            card.classList.remove('correct-answer', 'wrong-answer');
            card.classList.add(isCorrect ? 'correct-answer' : 'wrong-answer');

            // 2. Reset and Apply Correction Box Styling
            correctionDiv.classList.remove('correction-box-correct', 'correction-box-incorrect', 'correction-box-unanswered');
            if (isCorrect) {
                correctionDiv.classList.add('correction-box-correct');
            } else {
                correctionDiv.classList.add('correction-box-incorrect');
            }

            // 3. Lock/Style Options and update labels
            const inputs = optionsContainer.querySelectorAll('input[type="radio"]');
            const labels = optionsContainer.querySelectorAll('label');

            inputs.forEach((input, index) => {
                const label = labels[index];
                label.classList.remove('correct-answer', 'wrong-answer', 'hover:bg-gray-50');

                if (index === correctIndex) {
                    label.classList.add('correct-answer', 'font-bold', 'border-4'); // Highlight correct answer
                } else if (index === selectedOptionIndex && !isCorrect) {
                    label.classList.add('wrong-answer', 'font-bold', 'border-4'); // Highlight wrong selection
                }

                // Disable options if locked
                if (lockOptions) {
                    input.disabled = true;
                    label.classList.add('cursor-default');
                    label.classList.remove('hover:bg-gray-50');
                }
            });

            // 4. Show Explanation
            let correctionContent = '';
            if (isCorrect) {
                correctionContent = `<p class="text-green-800 flex items-center"><span data-lucide="check" class="icon-small mr-1"></span> ¡Respuesta Correcta!</p><p class="text-gray-700 mt-1"><strong>Explicación:</strong> ${qData.e}</p>`;
            } else {
                correctionContent = `
                    <p class="text-red-800 font-bold mb-2 flex items-center"><span data-lucide="x" class="icon-small mr-1"></span> ¡Respuesta Incorrecta!</p>
                    <p class="text-gray-700"><strong>La respuesta correcta era:</strong> ${qData.options[correctIndex]}.</p>
                    <p class="text-gray-700"><strong>Explicación:</strong> ${qData.e}</p>
                `;
            }

            correctionDiv.innerHTML = correctionContent;
            correctionDiv.classList.remove('hidden');
            lucide.createIcons(); // Re-render icons
        }

        /**
         * Checks if all 20 questions have been answered and updates the submit button state.
         */
        function updateSubmitButtonState() {
            const allAnswered = answeredCount === 10;
            const submitButton = document.getElementById('submit-button');

            if (!quizSubmitted) {
                submitButton.disabled = !allAnswered;
                submitButton.textContent = allAnswered ? 'Ver Nota Final' : `Responde las 20 preguntas (${answeredCount}/10)`;
            }
        }

        /**
         * Applies correction to all questions when Practice mode is submitted or when showing final results.
         */
        function applyFinalCorrection() {
            currentQuestions.forEach((_, index) => {
                const qNum = index + 1;
                const selected = answers[qNum];
                
                // If answered, apply correction and lock
                if (selected !== undefined) {
                    applyCorrection(qNum, selected, true); 
                } else {
                    // If unanswered, just lock the options and show correct answer
                    const optionsContainer = document.getElementById(`q${qNum}-options-container`);
                    optionsContainer.querySelectorAll('input[type="radio"]').forEach(input => {
                        input.disabled = true;
                    });
                    optionsContainer.querySelectorAll('label').forEach(label => {
                        label.classList.add('cursor-default');
                        label.classList.remove('hover:bg-gray-50');
                    });

                    // Force show the correct answer correction block
                    const qData = currentQuestions[index];
                    const correctIndex = qData.a;
                    const correctionDiv = document.getElementById(`q${qNum}-correction`);

                    // Apply unanswered correction style
                    correctionDiv.classList.remove('correction-box-correct', 'correction-box-incorrect');
                    correctionDiv.classList.add('correction-box-unanswered');

                    const correctionContent = `
                        <p class="text-gray-800 font-bold mb-2 flex items-center"><span data-lucide="alert-triangle" class="icon-small mr-1"></span> Pregunta sin responder.</p>
                        <p class="text-gray-700"><strong>La respuesta correcta era:</strong> ${qData.options[correctIndex]}.</p>
                        <p class="text-gray-700"><strong>Explicación:</strong> ${qData.e}</p>
                    `;
                    correctionDiv.innerHTML = correctionContent;
                    correctionDiv.classList.remove('hidden');
                }
            });
        }

        /**
         * Submits the quiz (Practice Mode or Study Mode when all answered), calculates the score, and displays results.
         */
        function submitQuiz() {
            if (!quizStarted || quizSubmitted) return;
            if (answeredCount < 10) {
                 return;
            }

            quizSubmitted = true;
            applyFinalCorrection(); // Show all corrections for both modes and locks all questions

            // Lock the submit button
            document.getElementById('submit-button').disabled = true;

            // Hide quiz container and show results container
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('results-container').classList.remove('hidden');

            calculateScore();
            lucide.createIcons();
        }

        /**
         * Calculates the final score based on the rule: 1 incorrect answer = -1/3 of a correct answer's value.
         */
        function calculateScore() {
            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;

            currentQuestions.forEach((qData, index) => {
                const qNum = index + 1;
                const selected = answers[qNum];
                const isCorrect = selected === qData.a;

                if (selected === undefined) {
                    unansweredCount++;
                } else if (isCorrect) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            });

            // Scoring Logic (Total 20 questions, Max score 10)
            const questionValue = 10 / 10; // 0.5 points per correct answer
            const penalty = (questionValue / 3)*2; // 0.5 / 3 ≈ 0.1667 penalty per incorrect answer

            let rawScore = (correctCount * questionValue) - (incorrectCount * penalty);
            const finalScore = Math.max(0, rawScore).toFixed(2); // Score must be capped at 0

            // Update Results Screen
            document.getElementById('result-mode').textContent = mode === 'estudiar' ? 'Estudiar (Corrección Inmediata)' : 'Practicar (Corrección Final)';
            document.getElementById('final-score').textContent = finalScore;
            document.getElementById('count-correct').textContent = correctCount;
            document.getElementById('count-incorrect').textContent = incorrectCount;
            document.getElementById('count-unanswered').textContent = unansweredCount;

            // Generate Failed Questions Review (Not implemented, but keeping the div)
            // renderFailedQuestionsReview();
        }

        // --- 4. INITIALIZATION ---
        // Initialize Lucide icons on load
        window.onload = () => {
            lucide.createIcons();
        };

    </script>
</body>
</html>






